#FROM cypress/base:10
FROM cypress/browsers:chrome69

RUN ls -la
RUN pwd

WORKDIR /app

# dependencies will be installed only if the package files change
COPY ./rafflery-ui/cypress.json .
COPY ./rafflery-ui/cypress .
COPY ./rafflery-ui/node_modules .
COPY ./rafflery-ui/package.json .
COPY ./rafflery-ui/package-lock.json .

#RUN npm ci
RUN npm install

RUN npm run cypress:verify

RUN cd /app && printf '%s\n' *
